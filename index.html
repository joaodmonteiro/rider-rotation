<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping list example</title>
    <style>

      h1 {
        text-align: center;
      }

      #inputSection {
        text-align: center;
      }

      li {
        margin-bottom: 10px;
      }

      li button {
        font-size: 8px;
        margin-left: 20px;
        color: #666;
      }

      #main {
        display: grid;
        grid-template-columns: auto auto;
        grid-template-rows: 50vh auto;
      }
    </style>
  </head>
  <body>

    <h1>Rider Rotation</h1>

    <div id="inputSection">
      <label for="item">Enter a new rider:</label>
      <input type="text" name="item" id="item">
      <button>Add Rider</button>
    </div>
    <div id="main">
      <div>
        <p>Available Riders:</p>
        <ul id="available">
  
        </ul>
      </div>
      <div>
        <p>On a ride:</p>
        <ul id="onARide">

        </ul>
      </div>
      <div>
        <p>Break:</p>
        <ul id="onABreak"></ul>
      </div>
    </div>
    

    

    <script>
      const availList = document.getElementById('available');
      const onARideList = document.getElementById('onARide');
      const onABreakList = document.getElementById('onABreak');
      const input = document.querySelector('input');
      const addButton = document.querySelector('button');

      input.focus();

      input.addEventListener("keyup", function(event) {
        if (event.keyCode === 13) {
          event.preventDefault();
          addButton.click();
        }
      });
      
      addButton.onclick = function() {
        let newItem = input.value;
        input.value = '';

        let listItem = document.createElement('li');
        let span = document.createElement('span');
        let deleteButton = document.createElement('button');
        let startButton = document.createElement('button');
        let breakButton = document.createElement('button');

        
        span.textContent = newItem;
        deleteButton.textContent = 'Delete';
        startButton.textContent = 'Start';
        breakButton.textContent = 'Break';

        listItem.appendChild(span);
        listItem.appendChild(deleteButton);
        listItem.appendChild(startButton);
        listItem.appendChild(breakButton);
        availList.appendChild(listItem);

        deleteButton.onclick = function() {
          deleteButton.parentNode.remove();
        }

        startButton.onclick = function() {
          let riderGo = startButton.parentNode;
          onARideList.appendChild(riderGo);
          startButton.remove();

          let backButton = document.createElement('button');
          backButton.textContent = 'Back';

          riderGo.appendChild(backButton);

          backButton.onclick = function() {
            let riderBack = backButton.parentNode;

            availList.appendChild(riderBack);
            riderBack.appendChild(startButton);
            backButton.remove();
          }
        }

        breakButton.onclick = function() {
          onABreakList.appendChild(breakButton.parentNode);
          startButton.remove();

          let backButton = document.createElement('button');
          backButton.textContent = 'Back';

          breakButton.parentNode.appendChild(backButton);

          backButton.onclick = function() {
            let riderBack = backButton.parentNode;

            availList.appendChild(riderBack);
            riderBack.appendChild(startButton);
            backButton.remove();
          }
        }

        input.focus();
      }

    </script>
  </body>
</html>